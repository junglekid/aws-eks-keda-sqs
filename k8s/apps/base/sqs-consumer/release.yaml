---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: sqs-consumer
  namespace: flux-system
spec:
  chart:
    spec:
      chart: ./charts/sqs-app/sqs-consumer
      version: ">=1.0.0"
      sourceRef:
        kind: GitRepository
        name: sqs-app
        namespace: flux-system
  values:
    deployment:
      container:
        image:
          repository: 704855531002.dkr.ecr.us-west-2.amazonaws.com/eks-keda-sqs-lab-consumer
          tag: latest
        sqsQueueName: eks-keda-sqs-lab-queue
      serviceAccountName: SA_AWS_SQS_NAME
  interval: 2m0s
  releaseName: sqs-consumer
  targetNamespace: sqs-app
